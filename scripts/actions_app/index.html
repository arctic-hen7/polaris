<!DOCTYPE html>
<html>
    <head>
        <title>Field Actions Dashboard</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <!-- Styles will be populated from a Tailwind-compiled file -->
        <style>
            {{ styles }}
        </style>
        <!-- Actions data goes in here and the rest of the page operates solely from it -->
        <script id="actionsData" type="application/json">
            {{ data }}
        </script>
    </head>
    <body>
        <main class="pb-16 p-1">
            <!-- Panel showing urgent contexts needing to be entered -->
            <div id="panelContexts" class="">
                <h1 class="text-xl m-2 text-center">Urgent Contexts</h1>

                <div id="urgentContexts"></div>
            </div>

            <!-- Panel showing all tasks for filtering -->
            <div id="panelTasks" class="hidden">
                <div class="flex flex-col items-center w-full">
                    <div class="m-2">
                        <span>Contexts:</span>
                        <select id="contextsSelect" multiple></select>
                    </div>
                    <div class="m-2">
                        <span>People:</span>
                        <select id="peopleSelect" multiple></select>
                    </div>
                    <div class="m-2">
                        <span>Effort:</span>
                        <select id="effort">
                            <option value="0">Minimal</option>
                            <option value="1" selected>Low</option>
                        </select>
                    </div>
                    <button id="filterButton" class="m-2 p-2 px-10 bg-sky-300/20 rounded-sm" onclick="doFilter(new Date())">Filter!</button>
                </div>

                <div id="tasks"></div>
            </div>
        </main>

        <footer class="flex flex-row fixed bottom-0 w-full backdrop-blur-lg">
            <button id="contextsButton" class="w-full p-2 cursor-pointer transition-colors bg-sky-300/10" onclick="setPanelContexts()">Contexts</button>
            <button id="tasksButton" class="w-full p-2 cursor-pointer transition-colors" onclick="setPanelTasks()">Tasks</button>
        </footer>

        <!-- This will be populated from `index.js` -->
        <script type="text/javascript">
            {{ scripts }}
        </script>
    </body>
</html>
